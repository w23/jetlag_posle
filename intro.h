/* File generated with Shader Minifier 1.1.4
 * http://www.ctrl-alt-test.fr
 */
#ifndef INTRO_H_
# define INTRO_H_

const char *intro_glsl =
 "uniform sampler2D T;"
 "uniform int s;"
 "float m=float(s)/88200.;"
 "vec2 z=vec2(640.,720.);"
 "const vec3 v=vec3(0.,.001,1.);"
 "const float i=3.14159;"
 "float n(float d)"
 "{"
   "return fract(sin(d)*43758.5);"
 "}"
 "float f(vec2 d)"
 "{"
   "return n(dot(d,vec2(129.47,37.56)));"
 "}"
 "float x(vec2 d)"
 "{"
   "vec2 y=floor(d);"
   "d=fract(d);"
   "d*=d*(3.-2.*d);"
   "return mix(mix(f(y),f(y+v.zx),d.x),mix(f(y+v.xz),f(y+v.zz),d.x),d.y);"
 "}"
 "float t(vec2 d)"
 "{"
   "return.5*x(d)+.25*x(d*2.3)+.125*x(d*4.1);"
 "}"
 "float f(vec3 d,vec3 x)"
 "{"
   "return d=abs(d)-x,max(d.z,max(d.x,d.y));"
 "}"
 "mat3 r(float d)"
 "{"
   "float v=sin(d),y=cos(d);"
   "return mat3(1.,0.,0.,0.,y,-v,0.,v,y);"
 "}"
 "mat3 p(float d)"
 "{"
   "float v=sin(d),y=cos(d);"
   "return mat3(y,0.,v,0.,1.,0,-v,0.,y);"
 "}"
 "mat3 e(float d)"
 "{"
   "float v=sin(d),y=cos(d);"
   "return mat3(y,v,0.,-v,y,0.,0.,0.,1.);"
 "}"
 "int y;"
 "float o,d;"
 "float c(vec3 v)"
 "{"
   "if(y==2)"
     "{"
       "o=v.y+10.;"
       "vec3 m=vec3(v.xy,mod(v.z,5.)-2.5);"
       "d=f(m,vec3(10.,10.,1.));"
       "d=max(d,-f(m,vec3(8.,7.,2.)));"
       "return min(o,d);"
     "}"
   "else"
     " if(y==4)"
       "{"
         "o=v.y;"
         "d=min(v.x+4.,6.-v.y);"
         "vec3 m=v;"
         "m.z=mod(v.z,10.)-5.;"
         "float i=f(m,vec3(1.,10.,1.));"
         "m.x-=4.;"
         "m.y+=-1.5;"
         "float x=f(m,vec3(.5,10.,.5));"
         "d=min(d,x);"
         "d=min(d,f(v-vec3(5.,0.,0.),vec3(1.,1.,100.)));"
         "d=max(d,-min(i,6.4-v.y));"
         "d=max(d,v.x-6.);"
         "d=min(d,v.z+30.);"
         "o=max(o,v.x-6.);"
         "return min(o,d);"
       "}"
     "else"
       " if(y==3)"
         "{"
           "o=v.y;"
           "o=min(o,f(v,vec3(.3,.1,30.)));"
           "d=-f(v,vec3(3.,4.,30.));"
           "vec3 m=v;"
           "m.z=mod(v.z,10.)-5.;"
           "m.x-=3.;"
           "m.y+=-1.5;"
           "d=max(d,-f(m,vec3(2.,1.2,1.)));"
           "d=max(d,v.x-4.4);"
           "return min(o,d);"
         "}"
       "else"
         " if(y==7)"
           "return o=v.y,d=v.z+30.,v.x=abs(v.x),d=min(d,10.-v.x),d=min(d,f(v-vec3(14.,12.,-20.),vec3(8.,4.,10.))),min(o,d);"
   "o=v.y;"
   "d=-f(v,vec3(4.,3.,10.));"
   "d=max(d,f(v,vec3(5.1,3.1,10.1)));"
   "d=max(d,-f(v+vec3(1.5,1.,10.),vec3(2.,3.,1.)));"
   "return min(o,d);"
 "}"
 "vec3 a(vec3 d)"
 "{"
   "return normalize(vec3(c(d+v.yxx)-c(d-v.yxx),c(d+v.xyx)-c(d-v.xyx),c(d+v.xxy)-c(d-v.xxy)));"
 "}"
 "float a(vec3 d,vec3 v,float y,float m,int x)"
 "{"
   "for(int f=0;f<x;++f)"
     "{"
       "float o=c(d+v*y);"
       "y+=o;"
       "if(o<.002*y||y>m)"
         "break;"
     "}"
   "return y;"
 "}"
 "vec3 l(vec2 d)"
 "{"
   "d*=4.;"
   "vec3 y=(.6+(.2+.2*smoothstep(.9,.99,sin(i*t(d))))*t(d*4.))*vec3(.753,.749,.733);"
   "return y;"
 "}"
 "vec3 w(vec2 d)"
 "{"
   "return mix(vec3(.467,.22,.1),vec3(.627,.35,.216),smoothstep(.2,.8,t(d*3.)));"
 "}"
 "vec2 a(vec3 d,vec3 y)"
 "{"
   "vec3 m=cross(y,v.zxx),o=cross(y,v.xxz),x,f;"
   "if(dot(m,m)>dot(o,o))"
     "x=m;"
   "else"
     " x=o;"
   "f=cross(y,x);"
   "return vec2(dot(d,f),dot(d,x)).xy;"
 "}"
 "void main()"
 "{"
   "vec2 v=gl_FragCoord.xy/z*2.-1.;"
   "v.x*=2.*z.x/z.y;"
   "float x=m/64.;"
   "y=1+int(floor(x));"
   "vec3 i,c,k;"
   "i=vec3(-.5+fract(x),1.8,5.);"
   "if(y<2)"
     "i.y=1.,i.z=-3.+3.*fract(x);"
   "c=normalize(vec3(v,-2.));"
   "vec3 e=normalize(vec3(v+vec2(2.,1.)/z,-2.));"
   "c=r(-.2)*c;"
   "e=r(-.2)*e;"
   "vec3 p=normalize(vec3(-2.,1.,1.));"
   "float w=.2;"
   "const int u=16;"
   "float h=m;"
   "vec3 g=vec3(0.);"
   "for(int b=0;b<u;++b)"
     "{"
       "vec3 C=i,D=mix(c,e,vec3(n(h),n(h+1.),n(h+2.))),Z=vec3(0.),Y=vec3(1.);"
       "for(int X=0;X<3;++X)"
         "{"
           "float W=60.;"
           "int V=0;"
           "float U=min(W,50.),S=a(C,D,0.,U,40);"
           "if(S<U)"
             "W=S,V=2;"
           "vec3 R=vec3(0.),Q,P=vec3(0.,1.,0.);"
           "float O=.04;"
           "O=.9;"
           "if(V==0)"
             "R=vec3(2.)+30.*pow(max(0.,dot(D,p)),10.),Q=vec3(0.);"
           "else"
             "{"
               "C=C+D*W;"
               "P=a(C);"
               "vec2 M=a(C,P);"
               "C+=P*.01;"
               "if(o<d)"
                 "{"
                   "Q=vec3(.75,.75,.73);"
                   "float L=t(M/4.);"
                   "Q=mix(Q,vec3(.3,.44,.15)*(.3+.7*t(M*16.)),smoothstep(.45,.6,L));"
                   "float K=smoothstep(.4,.45,t(M/2.));"
                   "O=9.*K+.01;"
                 "}"
               "else"
                 "{"
                   "Q=l(M);"
                   "vec2 L=floor(M/2.),K=M/2.-L;"
                   "float J=f(L);"
                   "Q*=1.-.3*J-.4*step(.99,max(K.x,K.y));"
                   "float I=t(M/4.),H=smoothstep(.5,.7,I);"
                   "Q=mix(Q,vec3(.3,.44,.15)*(.3+.7*t(M*16.)),H);"
                 "}"
             "}"
           "Z+=Y*R;"
           "Y*=Q.xyz;"
           "if(all(lessThan(Y,vec3(.003))))"
             "break;"
           "D=reflect(D,P);"
           "D=normalize(mix(D,(vec3(n(h+=D.x),n(h+=D.y),n(h+=D.z))-.5)*2.,O));"
           "D*=sign(dot(P,D));"
         "}"
       "g+=Z;"
     "}"
   "gl_FragColor=vec4(g/float(u),w);"
 "}";

#endif // INTRO_H_
